<!DOCTYPE html>
<meta charset="utf-8">
<head>
        
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<link rel="stylesheet" type="text/css" href="../../css/style.css">
</head>


<body>
<script src="http://d3js.org/d3.v4.min.js"></script>
<script src="http://techanjs.org/techan.min.js"></script>
<script src="https://riversun.github.io/jsframe/jsframe.js"></script>
<script src="index.js"></script>

<h>Trading Gym</head>
<a href= "chart/USDJPY/chart.html">USDJPY</a>
<a href= "chart/EURJPY/chart.html">EURUSD</a>


    
<script>




query = location.search;
var value = query.split('=');
var result = value[1].split('%2C') ;

// console.log( result );
// console.log( result[0] );

const jsFrame = new JSFrame();

var length = Object.keys(result).length;

$('svg').wrapAll('<div class = "col-sm-10 flexBox">');
$('svg').wrap('<div class = "chart-box">');

// ３つjsframeでウィンドウを出し、その中にそれぞれのグラフを入れたいんだけど、なぜかうまくいっていない。

for (var i=0; i <= length-1; i++){
    // chart("Facebook, Inc.", "FB");

    var frame ={};
     
    frame[i] = jsFrame.create({
    title: result[i],
    left: 20+50*i, top: 20+50*i, width: window.innerWidth/2 , height: window.innerHeight/2,
    movable: true,//マウスで移動可能
    resizable: true,//マウスでリサイズ可
    url: 'chart.html?name='+result[i],
    appearanceParam: {
        border: {
        shadow: '2px 2px 10px  rgba(0, 0, 0, 0.5)',
        width: 0,
        radius: 6,
        },

        titleBar: {
            color: 'black',
            background: '#4784d4'
        }
    }

});

const align = 'CENTER_CENTER';//アンカー

// //(x,y)座標として画面の中央を指定、基準点（アンカー）をウィンドウの水平垂直の中心(CENTER_CENTER)にセット
// const x = window.innerWidth / 2;
// const y = window.innerHeight / 2;
// frame0.setPosition(x, y, align);


frame[i].show();
    
    
}



// chart("Google, Inc.", "GOOG");
// chart("Apple, Inc.", "AAPL");



const actions ={
    [result[i]]: () =>{
        console.log("success");
    }
}

function MouseClick(){
    alert('Click');
    $("#"+result[i]).css("borderColor", "#f00");
}





</script>
</div>
    
    </script>


<div class="row">
    <div class="col-sm-10 chartBox">

</div>

<div class="col-sm-2">


</div>

<div class = "order-box right-fix">

        <p class = "title">現在の価格</p>
        <div class = "row-box">
        <p id = "price-buy" class="price-buy item">00.000</p>
        <p id = "price-sell" class="price-sell item">00.000</p>
        </div>
        <div>
                <p class="title">ロット</p>
                <input type="text" class="form-control">lot
            
                <div>
                    <button type="button" class="btn btn-outline-buy"onclick="history.back()">Buy</button>
                    <button type="button" class="btn btn-outline-sell"onclick="history.back()">Sell</button>
                </div>
                <div>
                    <input type="range" class="form-control-range" id="formControlRange">
                    <button type="button" class="btn btn-outline-stop"onclick="history.back()">Stop</button>
                </div>
        </div>
</div>


</body>



</div>


</body>